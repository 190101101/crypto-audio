Yani bu sonraki iki işlev birlikte çok iyi çalışacak ve aslında ekranlarım burada oldukça gürültülü oluyor. Bir sürü musluk var. Buna sağ tıklayıp diğer sekmeleri kapat'a tıklayacağım. Bu çok daha iyi, değil mi? Öyleyse, şimdi denetimleri kapatacak veya açık olan tüm siparişleri kapatacak olan iki fonksiyon daha oluşturalım. Ve ilk fonksiyon aslında bunu yapmamıza izin verecek. Yani siparişi veren asıl şey olacak. Yani buna denilecek, bilirsiniz, aynı zamanda piyasayı da al, emri kapat. Ve burada def diyeceğiz, bilirsiniz, yer piyasası, emri kapatın. Ve bu, yan tarafta alacağı kodu alacak çünkü artık sitenin konumundan ve büyüklüğünden ne olduğunu biliyoruz, çünkü artık bunun ne olduğunu da biliyoruz. Yani bu, emri kapatmayı fiilen yürüten şey olacak. Yani bu, bilirsiniz, bu kapalı bir pozisyon olacak. Ve oldukça basit çünkü tam anlamıyla bir saatlik özel oturum alacak ve şimdi aktif sipariş verecek. Yani bir pozisyonu kapattığınız bir pozisyonu kapatma şekliniz, temelde karşı tarafı yerleştirmektir. Dolayısıyla, açık pozisyonunuz varsa, yapmak istediğiniz şey bir satış emri vermektir. Bu şekilde kapatıyorsun. Ama Bybit'teki insanlara Telegram grubu hakkında yazmak zorunda kaldım, ama aslında belgelerde vardı. Bu arada, API telgrafı harika, ama bilirsiniz, aslında onlara yazmam gerekiyordu. Ve dediler ki, bilirsiniz, açık emri iptal etmek istiyorsanız, sadece azaltma ve sadece azaltma denen bir şey koymanız gerekir. Bunu doğru yapmak, yalnızca gerçekten etkileyeceği anlamına gelir, bilirsiniz, mevcut açık sipariş hesabı, eğer mantıklıysa, bu siparişin üzerine başka bir sipariş ekleyebilir. Böylece bir alış ve bir satış emriniz olmayacak, sadece net bir emriniz olacak ve mevcut pozisyona karşı hareket edecek. Yani bunun içinde yapmamız gereken aslında bilgiyi koymak zorunda olmamız değil mi? Yani şunu söylemeliyiz ki, bilirsiniz, bir sembole ihtiyacımız var. Ve aslında, bunu size göstermenin kolay bir yolu, buradaki belgelere gidip aktif siparişlere gidip aktif sipariş vermemizdir. Burası siparişlerimizin verildiği yer ve biz de bu bilgiyi buraya kopyalayacağız. Evet ne? Geri dönecek. Ama buraya ne getireceği konusunda endişe bile etmeyeceğim çünkü bittiğinde, doğru yapılmış olur. Ticaret gitti ve bu piyasa emirlerini yapacağız. Bu nedenle, herhangi bir pozisyonu sadece basitlik için anında kapatıyoruz, çünkü pozisyonları kapatmak için de limit emirleri yapmak için zaman harcarsam, bu kurs çok uzun olurdu. Ancak bunu satın alma tarafında nasıl yapacağınızı bileceksiniz ve isterseniz kapanış tarafında da tekrarlayabilirsiniz. Ama biliyorsun, yapacağımız şey sadece bir piyasa emri vermek. Ve bunun anlamı, bunun bir piyasa emri olması. Yani sınırlı bir sipariş değil. Piyasa emri olacak. O halde önce bunu değiştirelim. Bir fiyata ihtiyacımız yok. Bir fiyata ihtiyacınız olan tek zaman, bir limit emri yapıyorsanız ve miktar, buna ne kadar zorlarsak o kadar olacak. Yani bu çok basit olacak. Ve buradaki taraf, sitenin ne olduğuna karar verirsek, şu anki pozisyonun tam tersi olacak ve geçeceğiz. Bunu hesaplayıp ileteceğiz, aynı zamanda hangi ticker ile çalıştığımızı bileceksiniz.Bu yüzden sadece o ticker'ı da geçeceğiz. İptal edilene kadar yürürlükteki süreyi iyi bırakabiliriz çünkü bu bir piyasa emridir ve sadece bunun azaltılması çok önemlidir. Bunu true olarak ayarlamamız ve tetikte kapatmamız gerekiyor. Aslında bunun ne işe yaradığına bakmadım. Aslında buraya bakmam gerekecek. Öyleyse tetikleyiciye yakın tetik yan tümcesi koyalım ve burada sadece yakın ve tetikleyiciyi azaltalım. Tetiklemek için kapatma tetikleyicisini belirttiğinizde dikkatli olun, yalnızca azaltma ile çakışmaya neden olabilir. Bakalım burada tetikte kapanış nedir? Ve doğrusu, bildiğimden emin değilim. İşte başlıyoruz. Tetikleyicide kapatın. Orada da görmüyorum. Aktif siparişler. Bir kapanış emri için tetikte kapatın, sadece pozisyonunuzu azaltabilir, arttıramaz. Hesapta yeterli bakiye yoksa, kapanış tetiklendiğinde, benzer sözleşmelerin diğer aktif emirleri iptal edilir veya azaltılır. Mevcut mevcut marjdan bağımsız olarak, zararı durdurmanızın pozisyonunuzu düşürmesini sağlamak için kullanılabilir. Yani bu, ihtiyacımız olandan çok daha incelikli ve uzmanlaşıyor, bu yüzden gerekli. Ancak bu, onu true olarak ayarlamanız gerektiği anlamına gelmez, sadece buradaki gerçek API çağrısına koymanız gerektiği anlamına gelir. Yani elimizde var. Sahte olarak bırakacağız. Bu iyi çalışıyor. Benim için kesinlikle iyi. Ve sonra burada yapacağımız tek şey, buraya geri döneceğim ve ben sadece döneceğim diyeceğiz. Tamam, bu kadar. Geri dönecek bir şey yok. Geri döneceğim hiçbir şey yok. Bu sadece emirleri öldürecek ve bunun başarılı olduğu temelinde gideceğiz. Ve aslında, gerçekten iyi olsaydım, başarılı olduğundan emin olmak için tüm bunları yazardım. Ve öyle olmasaydı, bilirsin, bunu doğrulamak için buraya bir şeyler koyardım. Ama gerçek şu ki, burada herhangi bir fiyattan bir piyasa emrini değiştirmek, gerçekten geçmesi gerekiyor. Bu yüzden devam edeceğime güveneceğim. Ama bu noktayı üretime sokuyor olsaydınız, muhtemelen, bilirsiniz, buraya bir çeşit işleme koymak isterdiniz, öyle olmasaydı, olmasaydı, herhangi bir nedenle, buna hiç sahip olmadım. Ama olmadıysa, bunu hallettiğini ve pozisyonlarınızın kapanmadığını size bildirmek için bir e-posta gönderdiğini veya on kez denenip size e-posta göndereceğini bilirsiniz. Biliyorsunuz, bunlar kursun amacı olmayan bu tür nüanslar, ama onlar sadece sizin için fikirler. Yani burada aslında bu düzeni aramamız gerekiyor. Öyleyse, buraya koyalım, tüm pozisyonları ticker için kapatalım. Ve bu aslında olacak, her iki kayıt için her iki kayıt için de olacak. Ve böylece bu basit bir fonksiyon olacak. Kapanacak ya da pozisyonlar bu şekilde olacak. Ve bu temelde yapacağımız şey, şu anda endişelenmemize gerek olmayan, öldürme anahtarı adı verilen bir şeye koymak. Ama öldürme anahtarı, biz kodlama yaparken öğreneceksiniz ya da pozisyonları kapatıp açmamız gerekip gerekmediğine dair sinyalimiz olacak, vb. Bu yüzden buna öldürme anahtarı adı verilen bir şeyi geçeceğiz, ancak şu anda bunun için endişelenmenize gerek yok. Sadece, bilirsin, şimdilik akışına bırak. Yani bu olacak, bilirsiniz, tüm aktif emirleri iptal edin ve bu seans özel dart olacak, iptal et, bütün aktif emirleri iptal et. Yani evet, tüm aktif emirleri iptal etmek için bir fonksiyon var ve bunun sembolü bizim sembolümüze eşit olacak, bizim sinyalimiz, üzgünüm sinyal pozitif ticker. Aynı şeyi sinyal negatif ticker'ımız için de yapacağız. Peki bu aktif emirleri ne yapıyor? Peki, Bybit'e geri dönersek ve buraya bakarsak hatırlayın, pozisyonların yanı sıra aktif emirlerimiz de var. O halde Matic için bir limit emri oluşturalım. Ve bir miktar, bilmiyorum, iki ve burada bir sipariş fiyatı için koyalım. Bunu burada kullanacağım, değil mi? Yani bu, Matic'i bu fiyata uzun süre kullanacağımızı ve sadece burada aksine, burada görebileceğinizi onaylayacağımızı söylüyor. Dolu değil. Siparişi sınırlamak için aktif bir emirdir. Şimdi, tüm pozisyonları kapattığımızda, tüm bu aktif emirleri iptal etmek isteyeceğiz, değil mi? Burada ne varsa iptal etmek istiyoruz. Ayrıca açık siparişleri de iptal etmek istiyoruz. Bu nedenle, kodun bu kısmı iki kod satırındadır, çünkü her iki hisse senedi de bu pozisyonlar için herhangi bir siparişin iptal edilmesiyle ilgilenecektir. Ve burada, bu, bilirsiniz, konum bilgisini almak olacak.O yüzden bu yorumu buraya kopyalıyorum. Yani bu, zaten yukarıda yarattığımız bir fonksiyona sahip olduğumuz konum bilgisini almak olacak. Ve böylece kenar ve biz buna bir diyeceğiz çünkü birinci konum için olacak ve boyut için de bir diyeceğiz, çünkü birinci konum için eşit, bilirsiniz, konum bilgisini al. Ve bu bizim pozitif işaretleyicimiz için olacak ve biz de aynı şeyi yapacağız, ancak buna diyeceğiz, bilirsiniz, ikinci taraf ve ikinci boyut aynı olacak, ama bu bizim negatif işaretçimiz için olacak. config dosyamızda şart koşmuştuk. Ve sonra diyeceğimiz şey, bir boyutun sıfırdan büyük olup olmadığı, yani varsa, bunun için açık bir emir olup olmadığıdır. Yer, pazar, kapanış emri ve bu, pozitif sinyal için olacaktır, çünkü bu, birinci boyutla ilgilidir. Ve sonra yapmamız gereken şey koymak. İşte burada dikkatli olmanız gerekiyor. yanına koymanız gerekir. Ve bir beden. Şimdi, neden burada ikinci tarafı kullanıyorum? Pekala, bir düşün, değil mi? Bu bir satın alma emriyse ve onu kapatmak istiyorsam, o zaman ters işarete ihtiyacım var, değil mi? Bu emri tetiklemek için işaret olarak hücreye ihtiyacım var, bu sitenin piyasaya yakın yerleştirilmesinde ya da bir hücre olması gerekiyor. Net pozisyonum bir alımsa, bu ikisi arasında gidip geliyorum. Ve aslında, sırf buna dikkat ettiğinizden emin olmak için buraya bir not bırakacağım. Birinci tarafa geçmek çok kolay olurdu ve neden çalışmadığını bilemezsiniz. Bunun ikinci taraf olması gerekiyor. Yani orada bir nüans var. Ve burada da aynı şeyi yapacağız, bunun bir piyasa emri vermek için yeterli olması dışında. Ve bu negatif ticker için olacak. Yani diğer ticker ve şimdi tekrar birinci tarafı kullanmamız gerekiyor, flip flop yapıyoruz ve boyut iki. Yani evet, birinci taraf kullanılacak. Doğru. Bu gerçekten önemli olacak. Ve sonra burada, bilirsiniz, sonuçlarımızı çıkaracağız. Yani bu çıktı sonuçları ve bu oldukça basit olacak. Öldürme anahtarımızı sıfır sıfıra eşitleyeceğiz, bu yeniden yeni işlemler açabileceğimizin işareti olacak çünkü bu, bilirsiniz, bu üçgen arbitrajın artık tamamlandığı anlamına geliyor. Tüm pozisyonlarımızı kapattık ve tekrar daha fazlasını açmaya başlamaya hazırız. Bu öldürme anahtarının burada ve burada yapacağı şey bu. Yapacağımız şey, kill anahtarını geri döndürmek ve bu fonksiyonun yapacağı şey de bu. Çok heyecan verici. Öyleyse devam edelim ve tüm pozisyonları kapatalım. Yani burada yapacağım şey, hiçbir şeye eşittir koymam gerekmeyen tüm pozisyonları kapatacağım. Yapmak isteseydim, bu davayı sadece kill switch için çağırabilir ve sonra belki de kill switch'i yazdırabilirim. Ama önce buraya geri dönersek, bunun işe yaradığından emin olalım, burada aktif bir açık siparişimiz var ve Matic için açık bir pozisyonumuz var. Bu işe yararsa, ikisi de kaybolmalı, değil mi? O halde bu yakın pozisyonlara sağ tıklayarak gidelim ve burada bir sorun oluştu. Oraya gitmesi gereken öldürme anahtarı argümanını kaçırıyoruz. Şimdilik sadece bir tane yapay argüman koyacağım çünkü bu bizim için gerçekten alakalı değil çünkü biz sadece fonksiyonu test ediyoruz ve devam edelim. Ve işte gidiyorsun. Sıfır anahtarını öldürmeye dönüş. Matic için başka aktif emrim olmadığını ve Matic için pozisyonlarımın da kaybolduğunu görebilirsiniz. Yani bu gerçekten harika. Bu çok havalı bir fonksiyon, eminim, bilirsiniz, eğer devam ettiyseniz ve bunu benim için denediyseniz, yapmak istediğim şeyleri gördüğümde gerçekten heyecanlandım, aslında kod aracılığıyla yürütülüyor ve borsanın kendisinde görmek. Ve çok, çok daha güvenilir, sağlam hissettiriyor. Biliyorsun, iyi şeyler yapıyorsun gibi hissettiriyor. Ve genel olarak, inşa ettiğim her şey hakkında gerçekten çok güçlü hissettim. Yani, bilirsiniz, kesinlikle sadece şimdi izlemeyin, kodlamayı burada durdurup izlemeyin, bunu kodlayın, bilirsiniz, çalıştırın. Ve bu güveniniz için çok şey yapacak. Birinin hakkında programlama yapmadan önce asla programlanmadığını biliyorsanız, yapabileceğinizi fark etmenizi sağlayacak. Sadece bu da değil, onu test edebilir ve çalıştığını görebilir ve bilirsiniz, bir zamanlar hissedilen kadar ulaşılmaz olmadığı için heyecanlanabilirsiniz. En azından eskiden hissettiğim buydu. Bunu söyledikten sonra, bir sonraki seansta görüşürüz.