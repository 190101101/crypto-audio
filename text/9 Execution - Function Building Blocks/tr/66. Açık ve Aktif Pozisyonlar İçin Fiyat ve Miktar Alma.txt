Şimdi, aslında bize açık bir pozisyon veya açık bir aktif emir olup olmadığını söyleyen iki fonksiyonumuz olmasına rağmen. Bunlardan gerçekten çok fazla bilgiye sahip olmadığımız bir şey var, bilirsiniz, bunların içerdiği miktarlar nelerdir, vb. Şimdi, gerçekten yapabileceğimiz şeylerden biri, buradaki mevcut fonksiyonları değiştirmek. Ve bu nedenle, bir miktar veya herhangi bir şey döndürürlerse, o zaman bilirsiniz, onların doğru veya yanlış olduğunu varsayarız ve ayrıca başka yerlerde ihtiyacımız olduğunda miktarı vb. kullanırız. Ve şöyle düşünebilirsiniz: Peki, başka yerlerde gerekli olmakla ne demek istiyorsunuz? Pekala, düşünürseniz, limit emirler veriyorsanız ve bunların doldurulduğunu bilmek istiyorsanız, mevcut pozisyona verilen miktarı bilmeniz gerekir. Bir miktar varsa veya yoksa, dolu olup olmadığını bilirsiniz vb. İhtiyacınız olan sipariş durumuna ihtiyacınız var. Biliyorsun, bu tür bilgilere sadece genel olarak ihtiyacın var. Ama yapacağım şey aslında bu bilgiyi alan iki fonksiyon daha yaratmak ve bunu yapmak zorunda değilsiniz. İşlevleri birleştirebilir ve kodumuzla biraz daha akıllı olabiliriz. Ama ben sadece her bir fonksiyonun ne yaptığına dair netlik için. İki yeni fonksiyon yaratacağım. Yani burada temel olarak açık pozisyon alacağız. Fiyat ve miktar. Ve burada buna diyeceğim şey şu, buna sadece üzgün ölüm diyeceğim, bilirsiniz, alın buna kesinlikle açık pozisyonlar diyeceğim çünkü bu, bundan bazı bilgiler aldığımız anlamına gelir ve biz Bir şeritte geçeceğiz ve ayrıca şu an için çok uzun süre varsayılan olarak gideceğimiz yön. İşte başlıyoruz. Gidip biraz bilgi alalım. Bu yüzden pozisyonu alacağız, böylece bir pozisyon alacaksınız ve ne söyleyeceğiz veya pozisyon alacağız. Burada söyleyeceğimiz şey, konum, özel oturuma eşittir ve bu, bilirsiniz, benim konumumu alacak ve aslında bu, özel oturumun benim konumumu noktalayacağı anlamına geliyor. Ve bununla, sembolü alıp biletlere eşitlemeliyiz. Daha önce yaptığımız şeyin aynısı. Ve şimdi döngüden kaçınmak için dizini seçeceğiz, bu nedenle yanıt boyunca döngüden kaçınmak için dizini seçin. Bunun anlamı, yukarıda yaptığımız gibi döngüye girmeme ve bir tür hile yapmaya ihtiyacım yok ve sadece her şeyi döngüye sokmam. İşlevi bir şekilde ayırmamın başka bir nedeni de bu. Uzun olup olmadığını bilmem gerekiyor, o zaman bunun bir satın alma olduğunu biliyorum ve dizinin iade edilen ilk bölümünü almam gerektiğini biliyorum. Hücre ise iade edilen hakkın ikinci kısmını almam gerekiyor. Öyleyse arayacağız. Bu indeks sıfıra eşittir. Başka bir deyişle, dizinin ilk bölümünü alın. Yön, uzun başka ise, dizin bir olmalıdır. Ve burada bir yanıt oluşturacağız, oluşturacağız, pardon. Yani burada söyleyeceğim şey, dönüş mesajının nokta tuşu konumunda olup olmadığıdır. Şimdiye kadar birçok kez yaptığımız şeyin aynısı. Sonra eğer konum. Ve bu dönüş kırmızı mesajı olacak. Tıpkı burada aldığımız gibi, dönüş mesajı eşittir. Tamam, o zaman gücü buradan açacağız. Yani eğer bu sembol? Basit sonuç konumundaysa, daha önce yaptığımızla aynı şey, ama şimdi dizini belirleyeceğiz, yani sıfır olacak. Eğer uzunsa, kısaysa bir olur. Diyorum ki, sembol oradaysa, o zaman sipariş fiyatı şuna eşittir çünkü geri döneceğiz. Fiyat pozisyon sonuçlarına eşittir ve bu yıl endeks olacak ve bu giriş fiyatı olacak çünkü bunun getirisi bu. Benim pozisyonuma tekrar giderseniz, API ile ilgili belgelere bakarsanız, pozisyonumun giriş fiyatı denilen, dokunan bir şey döndürdüğünü göreceksiniz. Temel olarak buna ve ardından sipariş miktarına dokunuyoruz. Yani yapacağım şey sadece bunu ve sipariş miktarını kopyalamak. Aşağıdaki gibi boyuta eşit olacak, çünkü buna boyut denir. Ve burada yapacağımız şey şu, sipariş fiyatını ve sipariş miktarını geri getireceğiz. Orada yapacağımız şey bu. Aksi halde ne yapacağız? Dönüş sıfır virgül sıfırdır. Aksi takdirde, burada yapacağımız şey aynı şeyi yapmak. Eğer geri dönüş mesajı anahtardaysa, burada bir iki, üç ifs olduğunu kontrol etmeme izin verin. Sonra geri dönüşümüz var. Burada bir geri dönüşümüz daha var. Bunu satın al. Ve son olarak, yapmak istediğim şey son dönüşü burada yapmak. Yani temelde, burada döndürülecek bir şey yoksa sıfır alacağız. Sıfır miktar ve sıfır fiyat alacağız. Aksi takdirde, bir fiyat ve bir miktar almamız gerektiğini biliyorsunuz. Demek bu o. Ve şimdi aynı şeyi aktif pozisyonlar için yapacağız. Tüm bunları kopyalayacağım ve buraya yapıştıracağım. Bu yüzden tüm bu kodu kopyaladım. Ve burada diyeceğim, bilirsiniz, aktif muhalefet fiyatını ve miktarını alın. Yani bu yıl olacak, bilirsiniz, aktif pozisyonlar alın ve bunun için sadece bileti almanız gerekiyor. Bunun için bir yönlendirmeye ihtiyacımız yok. Bunun için bir indekse ihtiyacımız yok. Bu pozisyonu aramayacağız. Buna aktif sıra diyeceğiz. Aslında, yukarıda sahip olduğumuz bu aktif düzene doğru ilerleyeceğim. Bunu kopyalayacağım esasen kopyalayıp buraya geri geleceğim ve bu aşağıdaki gibi aktif sıralamamız olacak. Ve bu yine yeni, kısmen dolu veya aktif olarak yaratılacak. Yani aynı şey. Simple, ticker'a eşit olacak. Buna aktif sıra diyeceğiz. Bunların hepsi aynı olacak ve bu aktif emirler olacak. Yani dönüş mesajı aktif sıralı nokta tuşlarında ise ve aktif sıralı dönüş mesajları ise, tamam o zaman burada bir şeyler yapacağız. O zaman burada bundan kurtulacağımızı söyleyeceğiz. If active order diyeceğiz ve buraya da sonuç datasını koyacağız. Yukarıda yaptığımız aynı şey, hiçbiri eşit değildir. Sağ. Yani orada bir şey var, eğer hepsi kontrol edilirse, temel olarak, o zaman sipariş fiyatı aktif siparişe eşit olacaktır. Ve bu, sonuçlardan o fiyatı alacağız ve sonuçlardan verilere gideceğiz ve her zaman gördüğümüz ilk öğe olacak. Yani bunun için bir indekse ihtiyacımız yok. Ve burada fiyat ve sipariş miktarını söyleyeceğiz. Bu yüzden bunu çoğaltacağım. Yani sipariş miktarı aktif siparişe eşittir. Bu, sonuç verisi sıfırdır. Ve burada bu miktar aşağıdaki gibi olacaktır. Ve sonra burada yapmamız gereken önemli şey yukarıdakiyle aynı, bilirsiniz, sipariş fiyatını ve sipariş miktarını çevirin. Çok iyi. Artık o ticker için herhangi bir aktif emir için miktar olarak fiyat alabiliyoruz ve aynı şeyi o ticker için de herhangi bir açık pozisyon için yapabiliyoruz. Ve bu, bilirsiniz, gerçekten yönetmemiz için çok, çok yardımcı olacak, bilirsiniz, eğer bir limit emri verdiysek, bu takaslar nerede? Kısmen nasıl doldurulur? Eğer öyleyse, biliyorsun, bununla ne yapacağız, vb. Sadece piyasa emirleri yapıyorsanız, bunların hiçbirine ihtiyacınız yok, değil mi? Eğer siz ama eğer bir indirim aldığınız yerde limit emirleri yapacaksanız, bunun harekete geçtiğini göreceksiniz, sonuçlandığını göreceksiniz. Ve bu senin için son derece faydalı olacak.