Şimdi, tarihsel fiyatları elde etmek için bir fonksiyon oluşturalım ve ben müşterinizin mumlarını koyacağım ve bunu böyle yapacağız, bu yüzden buna ölüm diyeceğiz, fiyatı tahmin eden müşteriler ve biz ' sembolümüzü getirecek, ki bu esasen bizim kayan noktamız olacak. Bu kelimeleri birbirinin yerine kullanıyorum. Bir infaz göreceksiniz. Ben kelime ticker çok söyleyeceğim. Sadece beynim böyle çalışıyor. Evet, fiyatları ve fiyatları alacağım. Fiyatlar temelde bir seansa eşit olacak. Ve daha önce de baktığımız gibi, bu sorgu işareti, fiyat artışı gibi olacak. Ve buradaki sembol, aralık aralığında geçtiğimiz sembole eşit olacak, yukarıdan zaman çerçevesine eşit olacak. Limit, önceden belirlediğimiz talep limitine eşit olacak. Ve zamandan. Saniye cinsinden başlama zamanına eşit olacak. Doğru ve bu başlı başına bize şimdiden bazı fiyatlar vermeli. Yani burada yapacağım şey, bunun nasıl göründüğünü size göstermek için gidip bunu yazdıracağım. Ama önce yapmamız gereken aslında bu fonksiyonu çağırdığımızdan emin olmak. O halde başlangıca dönelim. Ana dosyamız, ana dosyamız Corey'nin dışkı fiyat geçmişi araması. Yani komuta basıp tıklarsam, bu beni buraya götürür. Ancak mağaza fiyat geçmişi açısından benim ana dosyam da şimdi aslında gidip fiyatları alma işlevini içermiyor. Yani aslında yapmamız gereken, çıktısını alabilmek için gidip o fiyatları almak. Yani burada mağaza fiyat geçmişine almamız gereken bir şey semboller olacak. Yani ana fikrimizden, tüm sembolleri geçiyoruz, bu da buraya ve buraya aktarılan sembol tepkimiz. Yapacağımız şey aslında sadece bu işlevi çağırmak, ama önce şunu söyleyeceğim, bilirsiniz, fiyatları alıp veriye kaydedeceğim. Yani bu birazdan yapacağımız bir şey. Sayıların sıfıra eşit olduğunu söyleyeceğim. Bunu neden kullandığımı birazdan anlayacaksınız. Fiyat geçmişi, fiyat geçmişi şuradaki sözlüğe eşittir. Şimdi de sembollerdeki sembol için sahtekarlık ve özür dileriz diyeceğiz, değil mi? Yani tüm bu sembolleri geçtik, burada takas edilebilir sembollere sahibiz. Sembol isminin sembol alt çizgi ismi sembole eşit olduğunu söyleyeceğiz ve bu daha önce aldığımız cevaptan gelen isim olacak. Ve bu bize bir sembol, sembol, isim verecek ve burada yapacağımız yer burası. Fiyat geçmişlerimizi arayacağız. Fiyat geçmişimiz, fiyat müşterileri almak için eşit olacaktır. Aslında, onları ben getirmedim. Onları getirmem gerekiyor ve bu, simgenin adı olacak. Bu yüzden fiyat al istemcisini getirmemiz gerekiyor. Yani diyeceğim ki, bilirsiniz, acayip fiyatlı müşteriler, bilirsiniz, ithalat, fiyat müşterileri alır. İthal etmek istediğim diğer şey, hem de sadece Jason, çünkü, bilirsiniz, bir an içinde, Jason File'ı tüm bu fiyatlar ile birlikte gerçekten kurtaracağız. Yani orada tam olarak böyle oynayacak. Şimdi aslında gidip ana dosyayı çalıştıralım çünkü ana dosya bu dosyayı çağıracak, bu da bu sembollerin her birini çağıracak. Tarihsel veriler ve biz aslında gidip yazdıracağız, bilirsiniz, buradaki fiyatların her biri için çıktı. Yani aslında yapmak isteyebileceğimiz bir şey şimdilik iade fiyatları. Yani bu aslında fiyatları buraya, fiyat geçmişine döndürür. Ve sonra, bilirsiniz, her bir sembol yerine bunun bir setini yazdıracağız. Bu yüzden bunun döngüye girmesini bekleyeceğiz ve sadece sonuncuyu yazdıracağız. O yüzden endişelenme, eğer buna uymadıysan, Tamam, diyerek yazdırdığın şeyle oynayabilirsin.iyi, döngü içinde yazdırılır. Yapmayalım. Başka bir yere yazdıralım. Onunla biraz oynayın ve tam olarak ne yaptığım hakkında bir fikir edineceksiniz. O halde hadi gidip play'e basalım. Ve aslında, onu çalıştırmam gerekiyor. Main'i buradan çalıştırın. Yani ana çalıştırın. Ve burada tip nesneleri diyor, hiçbir tipin ayağı yok, yani buradaki basit tepkinin uzunluğu sıfırdan büyük. Hiçbir türün erken bir sonu olmadığını söylüyor, o yüzden geri dönelim ve orada neler olduğuna bakalım. Bu nedenle, sembol yanıtının yabancısı sıfırdan büyükse, bunu saklayın. Öyleyse gidip buraya bir bakalım. Sembol, tarih, sembol listesi böyle olmalıdır. Sebebi ise sembol listesini yazdırdığımız için yapmamız gereken şey bu sembol listesini geri vermek ve programlamaya hoş geldiniz. Kodlamaya hoş geldiniz. Bu sadece böyle. Yani burada, hadi aslında bunu biraz parçalayalım. Biraz daha yapı verin. Yani bu, bilirsiniz, daha önce yaptığımız mevcut sembolleri alın ve ben bu yorumları buraya kopyalayacağım. Ve bu aslında yapmayı sevdiğim bir şey. Çıktıyı döndürebildiğim kadar her şeyi yorumlamayı seviyorum. Kodunuzun çok büyük olmasını istemiyorsunuz, ancak neler olduğunu görebilmeniz için güzel bir yapı istiyorsunuz. Yani burada sembollerimiz var. Bu nedenle, sembollerdeki sembol için, bunun yalnızca geri dönüş mesajı uygunsa olması gerekir. Yani aslında bunu buraya koymalıydık. Bu yüzden bunu tekrar gözden geçirmemiz iyi oldu. Orada kodlama konusunda oldukça özensiz davranmışım gibi görünüyor, ancak bu aslında şimdi işe yaramalı, bu nedenle buradaki bazı sembol listesini döndürmeli. Sonra bunu, soğuyacak fiyat geçmişini, fiyatları saklamak için iletiyoruz ve sadece en son olanları yazdıracağız. O halde tekrar play'e basalım ve nasıl göründüğüne bakalım. Aslında bunu durduracağım çünkü fark ettiğim şeylerden biri de çekiyoruz ve burası yine çok dikkatli olmanız gereken yer. Şu anda veri çekiyoruz ve API sınırlarını aşmadığımızdan emin olmamız gerekiyor. Bence burada sınırlar vardı. Gidip hepsini çekersek ve bilirsiniz, hepsini bir kerede yaparsak, bazı API hız limitlerini delmek zorunda kaldık. Tonlarca API isteği toplayacağız. Evet, bence yapmamız gereken bu konuda dikkatli olmak. Sanırım yapacağım şey, eğer sayarsa, yani sayar artı bire eşittir diyeceğim. Bunu her yaptığında bir kez ekleyeceğiz ve sayıların beşten büyük olup olmadığını göreceğiz, sonra kıracağız. Bunun anlamı, bu dört döngüyü kıracak ve işimiz bitecek. Bu nedenle, çalışıp çalışmadığını kontrol etmek için burada çok fazla beklemeyeceğiz, ancak bu API'deki raf sorgularını burada tamamlamayacağız. Öyleyse şunu yapalım, kaydedin ve tekrar oynat'a basın ve geçmesine izin verin. İşte gidiyorsun. Yani bu oldukça hızlı. Ama biliyorsun, Bybit'te çok fazla para var. Yani bunların birçoğunu doğru yaşıyorsanız, bu koşmak için iki dakika ila 10 dakika arasında bir zaman alacaktır. Yani bu sadece akılda tutulması gereken bir şey. Ve burada gördüğünüz sembolleri döndürdüğünü görebilirsiniz. Burada sağa kaydırırsam, açık yüksek, düşük kapanış var, sonra kapanışta açık ve aynı zamanda kapanıyor. Bu madeni para için son 200'ün tamamı var. Bu print ifadesini koyarsam, bilirsiniz, dört döngü içinde, çok fazla yazdıracak. Yani aslında, bunu sizin için yapacağım, size onu beş kez yazdırdığınızı göstermek için yapacağım çünkü o döngüyü kırana kadar ona beşe kadar saydık. Yani bu sadece yararlı küçük bir numara. Ve aynı zamanda sadece çalıştığını göstermek içindir. Ama şimdilik, bunların hepsinden kurtulacağım. Tüm fiyat geçmişi, bilirsiniz, temelde işe yarıyor. Şimdi yapmak istediğimiz şey, şu fiyat geçmişinin uzunluğu sıfırdan büyükse, bakın demek istiyoruz. Yani aynı numara. Yine, bilirsiniz, burada gerçekten boş bir liste yerine sıfırdan büyük fiyat geçmişine sahipsek. Yani fiyat kartlarını almak için buraya geri dönersek, görebilirsiniz, bilirsiniz, işte fiyatlar. Ve aslında, ben sadece buraya gireceğim, diyelim ki, çıktıları döndüreceğim ve bu sorguyu korumanın yolları da var. Biliyor musun, burada aşırı koruyucu değilim çünkü bu sadece strateji. İnfaz değil, ama şimdilik iyi. Yani burada iade edilen fiyatları orada iade edeceğiz. Bu fiyat geçmişinin uzunluğu sıfırdan büyükse, o zaman yapmak istediğimiz sembol adını tarih sözlüğüne eklemektir, böylece sözlükte bu sembol adıyla bir öğe oluşturacaktır. Ve bu, fiyat geçmişine eşit olacak ve sonra artı artı eşittir bir sayacağız.Ve sonra yapacağımız şey çıktı almak, bilirsiniz, çıktı almak ve bir f dizesi yapacağımızı söyleyeceğiz. Biliyorsunuz, sayarsa yazdırır diyeceğiz. Depolanan bu tür öğelere güvenir. Bu bize kaç tane Alt-A öğesinin depolandığını söyleyecek ve bunun nedeni, bilgisayarımdan uzaklaştığımda burada depolanacak 100 tane öğe söyleyeceğimizi biliyorum. Biliyorsun, ne kadar uzakta olduğunu merak etmek istemiyorum. Bana programlamada ne kadar uzakta olduğunu söylemek istediğimi bilmek istiyorum. Bu yüzden bu çıktıları sayımlarla birlikte yapıyorum. Ve şimdi neden orada hesap kullandığımı biliyorsun. Aksi takdirde, ne yapacağımızı biliyorsunuz, sayı ne olursa olsun söylemek için burada bir prens yapacağım, ancak eşyalar saklanmıyor. O zaman sorabileceğiniz bir şey var, peki, uzunluk neden hiç sıfır olmasın? Sen nesin biliyor musun? Burada ne yapıyoruz? Aslında yapmamız gereken şey, fiyatları döndürdüğümüz bu fonksiyona geri dönmeliyiz. Ve bunu değiştirmek için yapacağım ilk şey, API çağrı sınırlarımızı korumak istiyorum çünkü bunu rafa kaldırmanın ne kadar kolay olduğunu gördünüz. Zaman nokta uyku koyacağım ve onun saniyelerinden biri için uyuyacağım değil mi? Ve bu sadece, bilirsin, saniyenin 0,1'i kadar olmasına rağmen, sürekli istek göndermediğinden emin olacak. Çok hızlı. Bu yapacağım bir şey. Aramaları biraz yavaşlatacağım. Ve sonra burada şunu da söyleyeceğim, bilirsiniz, fiyatların uzunluğu ve diğerleriyle aynı olduğu için bunlardan dönen sonuç, sonuçların burada döndürüldüğünü görebilirsiniz, bilirsiniz, eğer bu temiz sınıra eşit değil çünkü tam olarak 200 sonuç beklerdim, o zaman bilirsiniz, boş bir sözlük döndürür. Aksi takdirde, bilirsiniz, fiyatları iade edin, sonuçlar böyle. Peki biz burada ne yapıyoruz? Yani demek istediğimiz şu ki, bakın, 200 saatlik veri yoksa veya günlerce, günlükler değerinde veri yapıyorsanız, o zaman istatistiksel hesaplamalarıma dahil etmek istemiyorum çünkü bazı şeyleri alt üst edebilir. ve bana bir sürü saçmalık verecek. Öyleyse, değilse, yeni listelenmiş bir belirteç ya da her neyse, yeterli veri yoksa, bununla ilgilenmiyorum. Doğru. Bu yüzden, o kripto para birimi için hiçbir şey iade etmeyin, aksi takdirde, bilirsiniz, tarihi fiyatları iade edin. Ve oradaki fiyatlar buraya geri döndüğünde, eğer sıfırlarsa, o zaman o eşyanın saklanmadığını söyleyecek ve size programın nereye kadar dayanacağını ve şimdi ne kadar uzakta olduğunu söyleyecektir. buradaki öğe saklanmadı. Yani bize sadece biraz bilgi veriyor. Bu çok önemli. Burada olduğunuz herhangi bir fiyatı veya bildiğiniz herhangi bir kriptoyu filtrelemek istiyorsanız, bu fiyatlandırmada orada veri eksik. Yani, bu çok önemli olacak. Ve son olarak, burada yapmak istediğimiz aslında o dosyayı kaydetmek. Yani Jason'a fiyat fiyatlarını çıkaracağız ve bunu şöyle yapacağız. Yani biz her zamanki gibi yapacağız, bilirsiniz, eğer fiyat geçmişi sözlüğünün uzunluğu, çünkü bunun şimdi sıfırdan büyük olmasını beklerdim. Bu sıfırdan büyükse, o zaman tasarruf edeceğiz. Ve onu kaydetme şekliniz bunu takip eder. Sadece open ile gidin, dosyaya bir isim verin. Bu yüzden ben buna okul fiyatı alt çizgi listesi nokta Jason altında diyeceğim. Bu çok önemli. Orada yapacağımız şey bu. Ve dosyalarımı bazen önlerinde sayılarla adlandırmamın nedeni, bir python dosyasının ne olduğunu çok net bir şekilde görebilmem için klasörlerimin en üstünde görünmelerini sevmemdir. Python dosyası ne değildir? Bu sadece benim için çok yardımcı oluyor. Ve burada bu bir hak olacak çünkü bir dosyayı kaydediyordu. Yani FP olarak dosya yazıyorduk. Bunun ne anlama geldiği konusunda çok fazla endişelenmeyin, ama burada Jason Dump Fiyat Geçmişi, Fiyat Geçmişi Sözlüğü diyeceğiz ve bu FP girintisi olacak. Ve bu sadece şunu söylüyor, bilirsiniz, bu düzgün dosya için girintinin ne olması gerekiyor? Bunun tam olarak neye benzediğini size birazdan göstereceğim. Ve sonra burada aslında bunu ortaya koyacağız. Yani baskı fiyatlarının başarıyla kaydedildiğini söyleyeceğiz. Fiyatlar başarılı bir şekilde tam stop kaydeder ve sadece iyi uygulama için, tam o zaman, bilirsiniz, bir çıktıya döneceğim ve geri dönecek bir çıktı yok çünkü burada hatırlarsanız, bunun için bir değişken yaratmadık, yani döndürülecek bir çıktı yok. Bu yüzden sadece geri dönmüş olmak için döneceğim, bilirsiniz, tıpkı bunun gibi bir işaret yapıldığı gibi. Bunu yapmana gerek yok. Ayrıca, doğru şekilde kaydedildi yazmalıyım. Şimdi neler olacağını özetleyelim ve sonra gerçekten gidip bunu çalıştıracağım. Yani tüm takas edilebilir sembollerimizi alacağız. Bu birinci adım. Bunu zaten yaptık. Ve bu takas edilebilir sembolleri buraya getirdiğimizde, onları bu listeye koyacak ve bunu yaptığında, onları geçecek.fiyatları bir dosya olarak saklamaya kadar. Ve işe yarayacak olan yol, bu sembollerin her biri için fiyat geçmişini alacak. Bu semboller arasında dolaşacak, bu sembollerin her birinin fiyat geçmişini alacak. Bize bu süreçte nerede olduğunu söyle. Ve bir kez sona erdiğinde ve hepsini tek bir dosyada topladığında, bu dosyanın bir Jason dosyası olduğunu söyleyeceğiz ve sonra gerçekten gidip size göstereceğim. Aslında neye benzediğini biliyorsun, böylece ona bakabiliriz. Bu yüzden bunu çalıştıracağım. Umarım sadece işe yarar. Eğer öyleyse, videoyu duraklatacağım. Olmazsa, o zaman seninle sorunu gidereceğim. Neden? Çünkü çoğu zaman işlerin bozulacağını beklemelisiniz, bu yüzden doğru yazmanız ve test etmeniz ve doğru test etmeniz ve test etmeniz gerekir. Ve tüm bu kodlama bölümleri aşağı yukarı böyle olacak. O halde hadi gidip play'e basalım ve nasıl gittiğini görelim. Ve aslında, bu arada, bunun nasıl çalıştığını gerçekten görebilmemiz için bunu bir saniye durduracağım. Bu yüzden aralarında çok hızlı bir döngü var. Ama burada da yapmak istediğim bir şey, aslında burada neler olduğuna dair kendime bir tür fikir vermek istiyorum. Yani diyeceğim ki, işte burada prens olalım, bilirsiniz, semboller alıyoruz. Bu yüzden, yaptığı şeyin bu olduğunu biliyoruz. Ve sonra burada, ikinci adıma geldiğinde, burada da bir şeyler yazdırıyor. Biliyorsun, bu, fiyat verilerini oluşturup Jason'a kaydetmek gibi bir şey. Doğru. Yani bu da faydalı olacaktır. Şimdi play'e basalım. Al işte ozaman, buyur. Sembol almak, inşa etmek. Yani verinin inanılmaz derecede hızlı bir şekilde getirildiğini kastediyorum, değil mi? Ve burada görebilirsiniz, şu anda kesinlikle tüm sembolleri güçlendiriyor. Bu yüzden akışına bırakacağım. Sonra sizinle o dosyayı analiz etmek için videoyu durdurduktan sonra geri geleceğim.