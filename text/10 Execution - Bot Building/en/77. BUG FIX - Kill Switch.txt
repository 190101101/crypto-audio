So we had seen that we could successfully place limit orders and get those filled. We've been able to successfully place market orders and get those filled. And then when we simulated closing in order, we actually went in here and closed the positions. I would have expected that the bot would have waited five seconds and placed the orders again because, you know, the Z-score signal we have is so much new that it's going to think there's a signal all the time. We did that for development. But to my surprise, nothing happened, so I thought would be a really good idea. So let's talk through the code together and see if we can figure out what's going on. So we'll start with the main execution tab. We can see that if you know there's no open trades, et cetera, and the kill switch is zero going, manage new trades and we know that that's working when we got to manage new trades, you know, as soon as we go and place an order, whether it's market or we get the trade complete, the kill switch goes to one and it also goes to one down here. You know, if there's some kind of issue as well, if the Z score seems to have moved. So we're definitely getting that kill switch set to one. But the issue that's happening is once it's finished up, it's not looping through back here and looking at the logic that we have down here now. Why might that be? Now just looking at this and going through the code, it seems to me that, well, that's because the kill switch has to be zero for this managing, you know, new trades area to be triggered. And I think what that means is, you know, really what we should be doing here is we have not thought to put in closing our sorry managing our open kill switch if positions change, right? So so what that means is we need to manage our open kill switch if positions change or should reach two. And the issue here is we're doing that down here. You know, trade management, but because it's a kill switch of one, it's never getting to this, but it's getting through it once. But then once it's out of this loop, it's through here. It's never coming back again because this kill switch is specifying that this needs to be zero and there's going to be a number of ways to deal with that. But what I'm going to do is actually just take all of this out here and I'm going to paste it over here. So this this is going to be one of the things that we check. Now we don't know what the signals side is. So what I'm going to do is actually create here, you know, another variable, we're going to call it signal side, and that is going to be equal to absolutely nothing because it's just a variable. But we are going to get that signal side here as well as the kill switch. So we're going to take that signal side. We're going to pass it into here as well. Not that we need to and I'm going to get the signal side at the top as well because we're passing it across. Let's put it in there, and here's our signal side, right? It's it's initializing it anyway to be nothing. So we really don't need to pass it back. In fact, I'll just take that out. Otherwise, it could get a bit noisy, but let's get that signal side back out. And the way we're going to do that is we're going to return our signal side, right? So that's going to give us our signal side here and I'll kill switch. And so now that we have our signal side and our kill switch, the only thing we're missing is our Z-score. Well, we know how to get C score. That's really easy for us now. So the way we go and get Z score is we just get the latest Z score, so we'll copy this. Get the latest C score and we will, you know, we will take that here. The kill switch is one. We'll get the latest C score and we then need to import getting that latency score. So here we will copy this function and we will paste it up here for getting the latest C score as well. So what is going on here? So we're saying, right, well, if the kill switch is one, then just move everything here into this main file. And if it's one, get the latest C score. Check it to the signal side that we had updated here. And if this is one, then by default we have to have a signal side. And so that'll just be retained. It'll continue every time it's going through this while loop, it'll just stay there. And that's what we should expect to happen over here, right? So this kill switch is equal to one, we get the signal side if it's positive, you know, et cetera, then make sure we change that to a two. So that'll be very important to know to close the positions. So this would be close positions. But here's the thing it's not positive yet, or it's not signaling a close yet the the the kill switch is one. So what we need to do is say, you know, if is managing new trades, right? So we'll put that here. In fact, we'll put it at the top and we'll see if it's managed new trades, because what that means is all the positions are closed. And by default, the kill switch needs to be put back to zero. So this is, you know, put back to zero if trades are closed. So here we go back to zero, if trades are closed, right? And that's because of me, I'm manually closing the trades. That's why this has become an issue. And so let's go and look down here, right? So if I look here, the kill switch. Close all positions. And when we close all positions, I'm going to remove that print of the kill switch when we close all positions up. Kill Switch is set to zero here anyway. But what I would expect to happen, and we're going to test this now. When I hit play, I would expect that we get a kill switch and a signal side of one. Once those positions are filled and when they are filled, then what we're going to do is we're going to close the positions and when we do that is manage new trades is going to be true. And that means a kill switch needs to be zero. And here we go. You know, if there's any open trades, then those who get close are actually what we should do here as well is let's cut that out and put it below this logic, because technically speaking, that logic should run first. And there we go. It should just run properly. So let's hit play. Let's test it out. This is all part of the process. You're going to go through this kind of stuff, and it can get really confusing when you get towards the end as well because there's so much going on. Maybe go the trades have been placed and we can see them here. So I'm going to go and close those with a market order. Let's go and close those over there and boom, those are being closed. So what should we expect to happen now? Boom, they've been placed again and it is actually working, which is fantastic. So what I'm going to do now is stop the bot from running. Or in fact, I'll show you just to show you they'll get placed again. Let's, you know, just close the market orders. Both market orders are closed. And here we go. We should boom. That will get opened again. So that shows that that's working really nicely. So now I've stopped the bot. I'm going to close these market orders over here. So congratulations. Well done. You know, we put in a really cool fix here and it's nice because on our main execution, we can see what happens when the kill switch is zero. We can see what happens when it's one and we can see what happens when it's two. Now let's just make a quick change here. We're going to say not equal to positive and not equal to negative. And what that means is we should have the kill switch flipped to two. So here I'm going to say, you know, primped kill switch, and that should be quite useful. And what that means is it should automatically close the positions and then reopen the positions, then close the positions, then reopen the positions. So it's going to be like an infinite loop. But I want to make sure that closing existing trades is working. So this is a good way to test that. And let's see here. Bank positions are open and it should close those positions. Let's give it some time to bang. It should close them now. And we're not seeing those positions close. Why is that? Why would the positions not be getting close? That's another mystery for us to go and fix now with getting the kill switch off to. But for some reason, for some reason, whatever that reason is, it has not killed all of our open positions. So why could that be? We can see that the kill switch is to. And if the kill switch is to, this should be happening. So let's go up here. Kill, switch. It's not serious that that can't be happening. Kill switch should be too. So what I'm going to do is I'm going to save this here. We're going to stop this bought here, and we're going to figure that out and we're going to fix it now in the next session, yet another bug fix. This is part of the process. We expected the bug fixes. Let's keep going. We're nearly there. And the more issues we come across, the better because the better our board is going to be.