Artık siparişlerimizi verdiğimize göre, gidip botu daha fazla test etmeden ve gerçekten çalışmasını izlemeden önce yapmak istediğim şey, burada kodlamanın büyük kısmını bitirmek ve onu vereceğiz. bu videoda gerçekten büyük bir itme var. Gidip emirleri kontrol edeceğiz ve öldürme anahtarı sonucu ne olursa olsun geri döneceğiz. Ve bir sonraki videoda, aslında daha fazla koşacağız ve nasıl performans gösterdiğine dair gözlemlerimizi aktaracağız. Yani bu robotu tamamlamaya gerçekten ama gerçekten çok yakınsınız. Yani burada yapmak istediğimiz, limit emirlerini kontrol etmek ve Z-skorunun hala aralık içinde olduğundan emin olmak. Sağ. Yani kontrol etmemiz gereken ilk şey bu. Yani Z skoru diyeceğiz ve buna yeni diyeceğim çünkü zaten Z skorumuz var ama size Z skoru ve bir sinyal işareti vereceğim. En son Z skorunu elde etmek için pozitif u eşittir p sinyali işareti diyeceğim. Şimdi tekrar yapacağız, daha önce oluşturduğumuz fonksiyonu çağıralım ve diyeceğiz ki, eğer kapatma anahtarı sıfıra eşitse, ki bu, onu bire çevirmediğimiz için olması gerekir. yine de, yalnızca bir piyasa emriyse, onu bir piyasa emrine çeviriyoruz. Yani kapatma anahtarı sıfırsa, bu, hey, bilirsiniz, emirlerimizi kontrol etmemiz gerektiği anlamına gelir. Ancak bunu yapmadan önce, Z puanının mutlak değerinin bitmediğini, Z puanının yeni Z puanı için sinyal tetikleme eşiğinden büyük olup olmadığını söylememiz gerekir. Ve burada zamanın yüzde 90 olduğunu söyleyeceğim, yani bu sayının yüzde 90'ını alacağım çünkü, bilirsiniz, Z skoru neredeyse tetiklenmiş olabilir. Bir ticaret yapıyoruz ve sonra birdenbire ona diyorsunuz ki, peki ya bu işlem kapanışının 0,1 altına düşerse? Hayır, çünkü bir nevi kaynakları boşa harcıyorsun ve eğer emir veriyorsan ona nefes alması için biraz alan bırakıyorsun, değil mi? Yani burada sıfır nokta dokuz veya belki sıfır nokta dokuz beş diyeceğim, onu sıfır nokta dokuzda bırakacağım. Ve her zaman işaretlediğimiz sinyal ve bu pozitif için, nu eşittir işaret işareti pozitif. Sağ. Yani eğer bu her ne ise, hala daha öncekine eşit, yani Z puanı, bilirsiniz, eşiğin içinde olabilir. Ama eğer Z okulunun işareti, ben, ticareti yaptığınız zamankine göre değişiklik olarak negatifse, o zaman muhtemelen olan şey diğer tarafa çevrilmiş olmasıdır. Yine de bunun farkında değilsin. Demek kontrol ettiği şey bu. Ve sonra, bilirsiniz, bunları aklımızda tutarak, şimdi gidip pozisyonlarımızı kontrol edeceğiz. Uzun sipariş durumunu kontrol edeceğiz. Yani yapacağımız birkaç şey var. Aslında, yorumları sizin için yazacağım. Yani ne yapacağımızı biliyorsunuz, uzun sipariş sipariş durumunu kontrol edeceğiz. İlk yapacağımız şey bu. Ve sonra kısa sipariş durumunu kontrol edeceğiz. Ve bu sipariş durumunu aldığımızda, bu bize aktif olup olmadığını söylemeli? Dolu mu? Kısmen dolu mu vs. Ve burada şimdi söyleyeceğimiz şey, bunları doğru yaptığımızda, o zaman burada yapacağımız şey, örneğin Ord'un hala aktif olup olmadığını söyleyeceğiz. Siparişler hala aktifse. O zaman, bilirsiniz, hiçbir şey yapmayın, aslında hiçbir şey yapmayın. Ve o zaman burada da söyleyeceğimiz şey, eğer emir hala aktifse, bir daha hiçbir şey yapmayın. Ama bu, bilirsiniz, bu kısmi doldurma için olacak. Yani sipariş veya kısmi doldurursa, bilirsiniz, hiçbir şey yapmayın. Ve bu, bilirsiniz, buradaki siparişimiz için ortaya çıkabilecek tüm farklı senaryolar. Bu yüzden başka hangi senaryoların ortaya çıkabileceğini düşünüyorum, değil mi? Ya aktif, ya kısmen dolu. Emirler tamamlanırsa fonksiyonumuza başka neler koyduk? Sağ? Ve bu da kısa olacak. O halde, bu durumda yapmamız gereken şey, hisse senedi alım satımı gibi alım satım yapmayı bırakmak, alım satım açmayı durdurmak. Şimdi, ya pozisyon hem uzun hem de kısa için doluysa? O zaman tekrar gitmeli, daha fazla yerleştirmeli ve başka bir ticaret yapmalıyız, değil mi? Ticaretimiz tamamlanmadığından, limitli sipariş sürecinde gitmemiz gereken daha fazla sermayemiz var. İşte bu kadar. Peki elimizde başka ne var? Sağ. Doldurulmakta olan pozisyon için buna sahibiz ve sonra tekrar denersek ne olur? Emirler iptal olursa ne olur biliyor musun? Peki ya sipariş iptal edilirse? Uzun zamandır tekrar deniyorum. Burada da aynı şeyi kısaca yapacağız, yani her şey anlam kazanmaya başlayacak. Kod süper hızlı olacak. Burada kodlamamız gereken çok şey var gibi göründüğünü biliyorum, ancak daha önce ne kadar verimli işlevler yaptığımızdan dolayı her satıra neredeyse bir satır kod düşüyor. Şimdi bunu gerçekten kodlamaya başlayalım. Yani burada söyleyeceğimiz ilk şey, bilirsiniz, eğer uzun sayma işlemimiz bire eşitse. Başka bir deyişle, bunun tüm eyaletlerde böyle olması için uzun bir emrimiz olmalı, sürece çek emrine eşit olacak. Ve şimdi bu kontrol emri geliyor ve uzun senedi olacak olan senedimizi, üzerindeki emri geçeceğiz. Kalan sermayemizi kısa değil, kalan sermayemizi uzun olarak aktaracağız. Ve doğru olan yön. Bu, bunun için gidip yapacağımız bir şey ve aynı şeyi buraya kopyalayacağız. Ancak kısa eyaletler için doğru. Bu nedenle, kısa sayımlar bire eşitse, o zaman sipariş durumu ve yine, buradaki her şeyi ince bir diş tarağı ile kontrol ettiğinizden emin olun. Kısa ticker veya kısa kimlik kalan sermaye kısa ve ardından buradaki yön kısadır. Peki yukarıda siparişimizi verdiğimiz yerden aldığımız siparişteyken bunu çek siparişi ile nasıl alıyoruz? Öyleyse buraya bakarsanız, nerede uzun kimlik siparişi veriyoruz? veya kısa bir kimlik? Ve sonra burada, bunu buradaki kontrol emri fonksiyonumuza aktarıyoruz, burada hatırlarsanız, aslında tüm bu senaryoları inceledik ve kısmi dolum veya aktif vb. döndürdük. Yani burada olan da bu. Peki bunların doğru bir şekilde iade edildiğini varsayarsak, o zaman burada ne yapacağız? Sipariş durumumuz uzun mu eşit mi yoksa sipariş aktif mi diyeceğiz? Order active'e eşittir veya order durumumuz short, order active'e eşittir. Ya bir eşittir ya da iki aktif başka bir şey yapmaz, değil mi? Yani bu sadece devam edecek. Başka bir şey yapma. Bunu da buraya kopyalayalım. Ve emir durumumuz uzun, kısmi dol sağ veya emir durumumuz kısa, eşit kısmi dolu ise, o zaman bir kez daha devam etmek istiyoruz. Yani yine aynı şey. Ve sonra burada ne diyeceğiz? Bunu mu kopyalayacağız? Ve emrimiz uzun eşittir ticaretin tamamlandığını belirtiyorsa ve şimdi bu bir bütün değil, ama bu bir son ve emir durumu kısa, eşittir ticaret tamamlandı diyeceğiz. Pekala, bu çok basit, çünkü şimdi tek yapmamız gereken, I'll kill anahtarının buradaki piyasa emrine benzer bir değere eşit olması gerektiğini söylemek, çünkü yerleştirdiğiniz anda bu tamdır. Oldukça fazla. Ama artık biliyorsunuz, bu tüm limit siparişlerimizin dolduğunu söylüyor. Bu yüzden kapatma anahtarını bire çevirin ve umduğumuz da bu. Buna ulaşmayı umuyoruz. Eğer bu noktaya gelirsek, o zaman iyi gidiyoruz. Şimdi bunu da buraya kopyalayalım. Ve emir durumu uzun, bu şekilde dolu pozisyona eşit mi diyeceğiz, değil mi? Yani pozisyon dolu veya emir durumu kısa, pozisyon dolu ve özür dilerim, hepsine eşit değil. Ve her ikisinin de böyle olması gerekiyor. O zaman yapacağımız şey, bizim yapacağımız şekilde başka bir sipariş vermesine izin vermek. Konseyin iki sıfır ve sayımların da sıfıra kısa olduğunu söylediniz, çünkü o zaman bu, yukarıdaki kod parçasına ticaret yapmasına izin verildiğini söyleyecektir. Peki biz neredeyiz? Biliyorsunuz, eğer konsey sıfırdaysa, sayı sıfıra düşerse, ona tekrar ticaret yapmasına izin verildiğini söyleyecek ve ticaret gerçekten tamamlanana kadar doldurulması için başka bir pozisyon koyacaktır. Ve son olarak, sipariş durumu uzun denemeye eşitse, o zaman bu durumda, ya da bizim danışmanlığımızda tekrar denemeye eşit olduğu sürece sıfıra eşit olması gerekir çünkü denemek ve o siparişi tekrar vermek istiyoruz. Ve daha kısası için burada da aynı şey olacak. Kısa olan emirler tekrar denemeye eşitse, kısa sayma sayımızın sıfıra eşit olması gerekir. Şimdi bunların hepsi adil ve iyi, ama durum böyle değilse ne olur biliyorsun, değil mi? Z-skoru testi geçilmezse ne olur ve bu gerçekten bir pozisyonda olmamamız gerektiği anlamına gelir? Pekala, o zaman burada yapmamız gereken şey, aşağıda aşağıda başka bir şey söylememiz gerektiğidir. Ve durum buysa, o zaman tüm aktif siparişleri iptal etmemiz gerekir, değil mi? Ve bunu yapmak için? Çok basit. Sadece oturum özel noktası olarak gidiyoruz ve tüm aktif emirleri iptal edeceğiz ve iptal edeceğimiz sembol pozitif sinyal işareti olacak ve burada da aynı şey olacak, değil mi? Sinyal işareti olacak, ancak bu sefer negatif. Bu yüzden sadece bunu çoğaltıyoruz. Bir de şunu göreyim. Yani hayır, bu yanlış. Sinyal pozitif ticker. Acele etmem ve kafamın karışması benim için çok kolay ve bu, negatif işaret sinyali olmalı. Bunlar için aktif emir olmadığından emin olmak için ileteceğimiz kayan yazı bu. Ve hemen ardından, kapatma anahtarının bire eşit olduğunu söyleyeceğiz. Ve sonra, öldürme anahtarı bire eşit olduğu için, esasen bu ikisinin her şeyin doldurulmakta olduğunu bilmesi için tetikleyecek ve sonra gidip bunu buna göre yönetmek, bu döngüyü durduracaktır. burada ve daha fazla ticaret yapmaya çalışmaktan vazgeçecek. Yani başka bir deyişle, sinyalle ilgili bir sorun varsa, yani Z puanları değiştiyse ve siparişlerimiz henüz dolmadıysa, bu Güney Afrika'da zorlu takilerimiz olduğu söyleniyor, değil mi? Tuckey'ler ayakkabı gibidir. Birleşik Krallık'ta koşu ayakkabısı giyersin, onlara spor ayakkabı denir. Sert Tuckey'ler. Temel olarak, artık denemeyeceğimiz ve yerleştirmeyeceğimiz anlamına gelir. Tamamen dolmamış olsak da, sinyal artık bizim lehimize olmadığı için alım satım yapmaya çalışmayı bırakın. Ve burada bu bölümle çok fazla kodlama yaptığımızı biliyorum, ama burada gerçekten gitmek ve, bilirsin, buraya dönüş fonksiyonunu yazmak için neredeyse işimiz bitti. Yani, Signal'in yanlış olup olmadığını kontrol edeceğiz ve bunun ne yaptığını hemen söyleyeceğiz. Yani, eğer öldürme anahtarı bir sağa eşitse, o zaman yapmak istediğimiz şey, eğer sinyalinin tarafını söylemektir. Yani sinyal tarafı pozitife eşitse, yani bu pozitif kadar pozitif mi? Evet, yazımı doğru yapmam ve Z puanının sıfırdan küçük olması çok önemli, o zaman öldürme anahtarı ikiye eşittir. Ve sonra burada, eğer sinyal tarafı negatife eşitse ve Z skoru sıfırdan büyük veya sıfıra eşitse, o zaman öldürme anahtarının da ikiye eşit olduğunu söyleyeceğiz. Peki bu ne yapıyor? Burada sadece sinyal tarafımızın pozitif olarak kaydedildiğini söylüyoruz. Ancak Z-skoru artık pozitif değil, o zaman bu, ortalama bir geri dönüşün gerçekleştiği anlamına gelir ve artık pozisyonlarımızı kapatmaya devam edebiliriz. Kapatma anahtarının iki olması, sinyal tarafımızın negatif olması durumunda konumları kapatacağınız anlamına gelir. Yani burada kaydettiklerimiz, ancak şimdi Z-skoru güncellendi ve geri dönüşü olumlu. Bu yine, daha kötü geri dönüşlerin olduğu anlamına gelir. İşlemleri kapatmaya hazırız ve şimdi tek yapmamız gereken öldürme anahtarının durumunu çıkarmak. Yani bu dönüş, öldürme, değiştirme olacak. Ve bunun çok fazla kodlama olduğunu biliyorum. Buraya kadar gelmekle gerçekten iyi iş çıkardın. Aferin. Burada benimle birlikte olmakta iyi iş çıkardın. Sağ. Yani bu geçecek. Burada neler olup bittiği hakkında daha fazla konuşacağız çünkü takip edilmesi gereken çok şey olduğunu biliyorum. Ve biliyorsunuz, esasen burada olacaklar ana sayfada. Pozitif yol öldürme anahtarları olarak bu öldürme anahtarının gelmesini sağlayacağız, yeni işlemleri yönetin, yeni işlemleri yönetin, buradaki diğer tüm sekmeleri kapatmama ve bu ikisinin birçok yeni işlem açmasına izin verin. Bunların hepsi az önce gittik ve esasen yazdık. Ve bu buradan geliyor. Ve sonra kapatma anahtarı geri gelirse, o zaman buraya gitmeye ve zaten sahip olduğumuz pozisyonları kapatmaya çalışacak, bilirsiniz, burası için piyasa kapatma talimatları. Bu yüzden, ne olacağı hakkında daha fazla konuşacağız ve bu işlemlerin gerçekte nasıl performans gösterdiğini ve davrandığını görmek için bir sonraki videoda bunu hemen şimdi çalıştıracağız.