Böylece başarılı bir şekilde limit emirler verebileceğimizi ve bunları doldurabileceğimizi gördük. Başarılı bir şekilde piyasa emirleri verebildik ve bunları karşılayabildik. Ve sırayla kapatmayı simüle ettiğimizde, aslında buraya girdik ve pozisyonları kapattık. Botun beş saniye bekleyip tekrar emir vermesini beklerdim çünkü bilirsiniz, elimizdeki Z-skoru sinyali o kadar yeni ki her zaman bir sinyal olduğunu düşünecek. Bunu gelişim için yaptık. Ama sürpriz bir şekilde hiçbir şey olmadı, bu yüzden gerçekten iyi bir fikir olacağını düşündüm. O halde kodu birlikte konuşalım ve neler olup bittiğini çözüp çözemeyeceğimize bakalım. Bu yüzden ana yürütme sekmesiyle başlayacağız. Açık ticaret vb. olmadığını biliyorsanız ve kapatma anahtarının sıfır olduğunu biliyorsanız, yeni işlemleri yönetin ve yeni işlemleri yönetmemiz gerektiğinde bunun işe yaradığını biliyoruz, bilirsiniz, gidip yerleşir değiştirmez Bir emir, ister piyasa olsun, ister ticareti tamamlayalım, öldürme anahtarı bire gider ve burada da bire gider. Bilirsin, eğer bir tür sorun varsa, eğer Z skoru hareket etmiş gibi görünüyorsa. Bu yüzden kesinlikle öldürme anahtarını bire ayarlıyoruz. Ama olan sorun şu ki, bir kez bittiğinde, buraya geri dönüp şu anda sahip olduğumuz mantığa bakmıyor. Bu neden olabilir? Şimdi sadece buna bakıp kodu incelerken, bana öyle geliyor ki, bunun nedeni, bu yönetimin, bilirsiniz, yeni ticaret alanının tetiklenmesi için öldürme anahtarının sıfır olması gerektiğidir. Ve bence bunun anlamı, bilirsiniz, gerçekten burada yapmamız gereken şey, konumlar değişirse açık öldürme anahtarımızı yönetirken üzgün olduğumuzu kapatmayı düşünmedik, değil mi? Öyleyse bunun anlamı, konumlar değişirse veya ikiye ulaşırsa açık öldürme anahtarımızı yönetmemiz gerektiğidir. Ve buradaki sorun, bunu burada yapıyor olmamız. Bilirsiniz, ticaret yönetimi, ama bu bir kişiyi öldürme anahtarı olduğu için, asla buna ulaşmıyor, ama bir kez üstesinden geliyor. Ama sonra bu döngüden çıktıktan sonra, buradan geçer. Bir daha asla geri gelmeyecek çünkü bu öldürme anahtarı, bunun sıfır olması gerektiğini belirtiyor ve bununla başa çıkmanın birkaç yolu olacak. Ama yapacağım şey aslında bunların hepsini buradan alıp buraya yapıştıracağım. Yani bu, kontrol edeceğimiz şeylerden biri olacak. Şimdi sinyal tarafının ne olduğunu bilmiyoruz. Burada yapacağım şey aslında burada başka bir değişken yaratmak, buna sinyal tarafı diyeceğiz ve bu kesinlikle hiçbir şeye eşit olmayacak çünkü bu sadece bir değişken. Ama burada hem sinyal tarafını hem de kapatma anahtarını alacağız. Yani o sinyal tarafını alacağız. Onu da buraya aktaracağız. İhtiyacımız olduğundan değil ve sinyal tarafını da üstten alacağım çünkü onu karşıya geçiriyoruz. Şuraya koyalım, burası bizim sinyal tarafımız, değil mi? Zaten hiçbir şey olmaması için onu başlatıyor. Yani gerçekten geri vermemize gerek yok. Aslında, bunu çıkaracağım. Aksi takdirde, biraz gürültülü olabilir, ama hadi bu sinyal tarafını geri alalım. Ve bunu yapma şeklimiz, sinyal tarafımıza geri döneceğiz, değil mi? Bu bize sinyal tarafımızı verecek ve ben de anahtarı kapatacağım. Ve artık sinyal tarafımız ve kapatma anahtarımız olduğuna göre, tek eksiğimiz Z-skorumuz. C puanı almayı biliyoruz. Bu artık bizim için çok kolay. Z puanını alma şeklimiz, en son Z puanını almamızdır, bu yüzden bunu kopyalayacağız. En son C puanını alın ve biz, bilirsiniz, onu burada alacağız. Öldürme anahtarı birdir. En son C puanını alacağız ve ardından bu gecikme puanını almamız gerekiyor. Yani burada bu fonksiyonu kopyalayacağız ve en son C skorunu da almak için buraya yapıştıracağız. Peki burada neler oluyor? Yani diyoruz ki, eğer kapatma anahtarı bir ise, o zaman her şeyi buraya bu ana dosyaya taşıyın. Ve eğer bir ise, en son C puanını alın. Burada güncellediğimiz sinyal tarafına bakın. Ve eğer bu bir ise, o zaman varsayılan olarak bir sinyal tarafımız olmalıdır. Ve böylece bu sadece korunacak. Bu while döngüsünden her geçtiğinde devam edecek, sadece orada kalacak. Ve burada olmasını beklememiz gereken de bu, değil mi? Yani bu kapatma anahtarı bire eşittir, pozitifse sinyal tarafını alırız, bilirsiniz, falan filan, sonra bunu ikiye çevirdiğimizden emin olun. Bu yüzden pozisyonları kapatmayı bilmek çok önemli olacak. Yani bu yakın pozisyonlar olacaktır. Ama işte henüz olumlu olmayan bir şey var, ya da henüz bir kapanış sinyali vermiyor, öldürme anahtarı bir. Öyleyse yapmamız gereken şey, bilirsiniz, eğer yeni ticaretleri yönetmek, değil mi? O yüzden buraya koyacağız. Aslında, en üste koyacağız ve yeni işlemler yönetilip yönetilmediğini göreceğiz, çünkü bu, tüm pozisyonların kapalı olduğu anlamına geliyor. Ve varsayılan olarak, öldürme anahtarının sıfıra geri getirilmesi gerekir. Yani bu, bilirsiniz, işlemler kapanırsa sıfıra geri alınır. İşlemler kapanırsa, burada sıfıra geri dönüyoruz, değil mi? Ve bu benim yüzümden, işlemleri manuel olarak kapatıyorum. Bu yüzden bu bir sorun haline geldi. Öyleyse gidip buraya bakalım, tamam mı? Yani buraya bakarsam, kapatma anahtarı. Tüm pozisyonları kapatın. Ve tüm pozisyonları kapattığımızda, tüm pozisyonları kapattığımızda kapatma anahtarının izini kaldıracağım. Kill Switch zaten burada sıfıra ayarlanmış. Ama olmasını beklediğim şey ve şimdi bunu test edeceğiz. Oynat düğmesine bastığımda, bir öldürme anahtarı ve birinin sinyal tarafını almayı beklerdim. Bu pozisyonlar dolduğunda ve dolduğunda, yapacağımız şey pozisyonları kapatmak olacak ve bunu yaptığımızda, yeni alım satımları yönetmek gerçek olacak. Ve bu, bir kapatma anahtarının sıfır olması gerektiği anlamına gelir. Ve işte başlıyoruz. Biliyorsunuz, herhangi bir açık işlem varsa, o zaman yaklaşanlar aslında burada yapmamız gereken şey, hadi onu keselim ve bu mantığın altına koyalım, çünkü teknik olarak konuşursak, önce bu mantık çalışmalıdır. Ve işte başlıyoruz. Sadece düzgün çalışması gerekir. Öyleyse oyuna basalım. Test edelim. Bunların hepsi sürecin bir parçası. Bu tür şeylerden geçeceksiniz ve sona doğru geldiğinizde gerçekten kafa karıştırıcı olabilir çünkü çok fazla oluyor. Belki işlemler yapılmıştır ve onları burada görebiliriz. O yüzden gidip bunları piyasa emriyle kapatacağım. Gidip oradakileri kapatalım ve bum, bunlar kapatılıyor. Peki şimdi ne olmasını beklemeliyiz? Boom, tekrar yerleştirildiler ve gerçekten çalışıyor, ki bu harika. Şimdi yapacağım şey botun çalışmasını durdurmak. Ya da aslında, tekrar yerleştirileceklerini göstermek için size göstereceğim. Hadi, bilirsin, sadece piyasa emirlerini kapatalım. Her iki piyasa emri de kapalıdır. Ve işte başlıyoruz. Boom yapmalıyız. Bu tekrar açılacak. Bu, bunun gerçekten güzel çalıştığını gösteriyor. Şimdi botu durdurdum. Bu piyasa emirlerini burada kapatacağım. Tebrikler. Tebrikler. Biliyorsunuz, buraya gerçekten harika bir düzeltme koyduk ve bu güzel çünkü ana uygulamamızda kapatma anahtarı sıfır olduğunda ne olduğunu görebiliriz. Bir olduğunda ne olduğunu görebiliriz ve iki olduğunda ne olduğunu görebiliriz. Şimdi burada hızlı bir değişiklik yapalım. Pozitife eşit değil ve negatife eşit değil diyeceğiz. Bunun anlamı, öldürme anahtarını ikiye çevirmeliyiz. Yani burada diyeceğim, bilirsiniz, kullanıma hazır kapatma anahtarı ve bu oldukça faydalı olmalı. Bunun anlamı, otomatik olarak pozisyonları kapatması ve ardından pozisyonları yeniden açması, ardından pozisyonları kapatması ve ardından pozisyonları yeniden açması gerektiğidir. Yani sonsuz bir döngü gibi olacak. Ancak mevcut işlemleri kapatmanın işe yaradığından emin olmak istiyorum. Yani bu, bunu test etmenin iyi bir yolu. Ve burada görelim. Banka pozisyonları açık ve bu pozisyonları kapatmalıdır. Patlaması için biraz zaman verelim. Şimdi onları kapatmalı. Ve bu pozisyonları yakın görmüyoruz. Nedenmiş? Pozisyonlar neden yaklaşmıyor? Bu, şimdi kapatma anahtarını kapatarak çözmemiz gereken başka bir gizem. Ama nedense, nedense, o neden her ne ise, tüm açık pozisyonlarımızı öldürmedi. Peki bu neden olabilir? Kill anahtarının to olduğunu görebiliriz. Ve eğer öldürme anahtarı konumundaysa, bunun olması gerekir. Öyleyse yukarı çıkalım. Öldür, değiştir. Bunun olamayacağı ciddi değil. Öldürme anahtarı da olmalıdır. Yani yapacağım şey, bunu buraya kaydedeceğim. Bunu burada satın almayı durduracağız ve bunu çözeceğiz ve şimdi onu bir sonraki oturumda düzelteceğiz, yine başka bir hata düzeltmesi. Bu sürecin bir parçasıdır. Hata düzeltmelerini bekliyorduk. Hadi devam et. Neredeyse oradayız. Ve ne kadar çok sorunla karşılaşırsak o kadar iyi çünkü yönetim kurulumuz o kadar iyi olacak.